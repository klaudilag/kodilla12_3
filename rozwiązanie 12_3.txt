create table ISSUESLIST(
    ID SERIAL PRIMARY KEY,
    NAME VARCHAR(100)
);
CREATE TABLE ISSUES(
    ID SERIAL PRIMARY KEY,
    ISSUESLIST_ID BIGINT UNSIGNED NOT NULL,
    SUMMARY VARCHAR(100),
    DESCRIPTION VARCHAR(200),
    FOREIGN KEY (ISSUESLIST_ID) REFERENCES ISSUESLIST(ID)
);
COMMIT;
INSERT INTO ISSUESLIST (NAME) VALUES ("ToDo");
INSERT INTO ISSUESLIST (NAME) VALUES ("In progress");
INSERT INTO ISSUESLIST (NAME) VALUES ("Done");

SELECT * FROM ISSUESLIST;

INSERT INTO ISSUES (ISSUESLIST_ID, SUMMARY, DESCRIPTION)
VALUES (1,"problem 1", "opis problemu 1");
INSERT INTO ISSUES (ISSUESLIST_ID, SUMMARY, DESCRIPTION)
VALUES (2,"problem 2", "opis problemu 2");
INSERT INTO ISSUES (ISSUESLIST_ID, SUMMARY, DESCRIPTION)
VALUES (3,"problem 3", "opis problemu 3");
INSERT INTO ISSUES (ISSUESLIST_ID, SUMMARY, DESCRIPTION)
VALUES (1,"problem 1", "opis problemu 1");
INSERT INTO ISSUES (ISSUESLIST_ID, SUMMARY, DESCRIPTION)
VALUES (2,"problem 5", "opis problemu 5");
commit;

select * from ISSUES;

UPDATE ISSUES SET SUMMARY = "problem 4" WHERE ID = 4;

select * from ISSUES;

alter table issues
ADD column USER_ID_ASSIGNEDTO INTEGER;

ALTER TABLE ISSUES MODIFY USER_ID_ASSIGNEDTO BIGINT UNSIGNED;

SELECT * FROM issues;

UPDATE ISSUES SET USER_ID_ASSIGNEDTO = 1 WHERE ID <3;
UPDATE issues SET USER_ID_ASSIGNEDTO = 2 WHERE ID = 3;
UPDATE ISSUES SET USER_ID_ASSIGNEDTO = 3 WHERE ID > 3;

alter table issues
add foreign key issues(USER_ID_ASSIGNEDTO) REFERENCES users(ID);

COMMIT;
